# app.py
import streamlit as st

# -----------------------
# 국가별 피해 사례 및 대처 방안
# -----------------------
country_info = {
    "투발루": {
        "피해": "평균 해발 2~3m로 해수면 상승에 가장 취약합니다. 농경지와 식수원 침수, 환경 난민 발생 사례가 있습니다.",
        "대처": ["국제 사회에 이민 요청", "기후변화 협약에서 생존권 보장 요구"]
    },
    "방글라데시": {
        "피해": "매년 우기마다 농경지가 침수되어 수백만 명의 주민 생계가 위협받습니다.",
        "대처": ["홍수 방지 제방 건설", "기후 난민 이주 정책 논의"]
    },
    "몰디브": {
        "피해": "일부 섬이 바닷물에 잠겨 거주 불가능 지역이 증가하고 있습니다.",
        "대처": ["관광 수익으로 해안 방어 시설 건설", "산호초 복원 프로젝트"]
    },
    "네덜란드": {
        "피해": "저지대 국가 특성상 해수면 상승에 직접적인 위협을 받습니다.",
        "대처": ["세계 최고 수준의 방조제와 수문 시스템 운영"]
    },
    "미국 마이애미": {
        "피해": "‘Sunny Day Flooding’ 현상으로 도로가 주기적으로 침수됩니다.",
        "대처": ["해안 방어벽 설치", "빗물 배수 시스템 강화"]
    },
    "인도네시아 자카르타": {
        "피해": "해수면 상승과 지반 침하로 도심 침수가 심각합니다. 수도 이전 논의가 있습니다.",
        "대처": ["수도 이전(누산타라 건설)", "대규모 해안 방조제 건설"]
    }
}

# -----------------------
# UI 구성
# -----------------------
st.title("🌊 해수면 상승 피해 및 인식 조사")

# 1. 국가 선택
country = st.selectbox(
    "📌 피해 사례를 보고 싶은 국가를 선택하세요",
    list(country_info.keys())
)

if country:
    st.subheader(f"📍 {country}의 해수면 상승 피해 사례")
    st.markdown(f"**피해 사례:** {country_info[country]['피해']}")
    
    st.subheader("🛠 대처 방안")
    # 체크박스로 대처 방안 선택
    st.markdown("다음 중 실제로 시행되거나 계획 중인 대처 방안을 선택하세요:")
    selected_actions = []
    for action in country_info[country]["대처"]:
        if st.checkbox(action):
            selected_actions.append(action)
    
    if selected_actions:
        st.success(f"✅ 선택한 대처 방안: {', '.join(selected_actions)}")
    else:
        st.info("대처 방안을 선택해 주세요.")

# 2. 해수면 상승 인식 조사
st.subheader("💡 해수면 상승에 대한 인식 조사")
st.markdown("다음 질문에 체크해 주세요:")

q1 = st.checkbox("해수면 상승이 지구에 큰 영향을 준다는 사실을 알고 있다.")
q2 = st.checkbox("내 주변 국가 또는 도시도 해수면 상승의 영향을 받을 수 있다고 생각한다.")
q3 = st.checkbox("기후 변화와 해수면 상승 문제에 대해 더 배우고 싶다.")

score = sum([q1, q2, q3])
st.markdown(f"✔ 총 체크 개수: {score}/3")

# 3. 추가 의견 입력
st.subheader("📝 해수면 상승 대응 아이디어 또는 의견을 자유롭게 작성해 주세요")
user_idea = st.text_area("의견 입력")

if user_idea:
    st.info(f"💬 제출한 의견: {user_idea}")
